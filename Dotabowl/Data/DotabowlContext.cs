using Dotabowl.Api.Models;
using Dotabowl.Data.Models;
using Microsoft.EntityFrameworkCore;

namespace Dotabowl.Api.Data
{
    // Tools > NuGet Package Manager > Package Manager Console
    // Add-Migration [name]
    // Update-Database

    public class DotabowlContext : DbContext
    {
        public DotabowlContext(DbContextOptions<DotabowlContext> options) : base(options) { }

        public DbSet<Player> Players { get; set; }
        public DbSet<Match> Matches { get; set; }
        public DbSet<MatchParticipant> MatchParticipants { get; set; }

        protected override void OnModelCreating(ModelBuilder modelBuilder)
        {
            base.OnModelCreating(modelBuilder);

            // MatchParticipant → Match (many participants per match)
            modelBuilder.Entity<MatchParticipant>()
                .HasOne<Match>()
                .WithMany(m => m.Participants)
                .HasForeignKey(mp => mp.MatchId)
                .OnDelete(DeleteBehavior.Cascade);

            // MatchParticipant → Player (many participants per player possible)
            modelBuilder.Entity<MatchParticipant>()
                .HasOne<Player>()
                .WithMany() 
                .HasForeignKey(mp => mp.PlayerId)
                .OnDelete(DeleteBehavior.Restrict);

            modelBuilder.Entity<Player>().HasData(
                new Player { Id = 3, Name = "Mason", SteamName = "hollahataballah", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins = 0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\holla.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 },
                new Player { Id = 4, Name = "Aaron", SteamName = "Grim Strokinoff", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins = 0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\aaron.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 },
                new Player { Id = 5, Name = "Alex", SteamName = "TekkPhantom4", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins = 0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\alex.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 },
                new Player { Id = 6, Name = "Arthur", SteamName = "Eddard Slark", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins = 0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\arthur.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 },
                new Player { Id = 7, Name = "Beau", SteamName = "rockthecatbox", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins = 0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\beau.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 },
                new Player { Id = 8, Name = "Ben", SteamName = "David Asselhoff", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins = 0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\ben.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 },
                new Player { Id = 9, Name = "Brendan", SteamName = "Rage Factory", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins = 0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\brendan.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 },
                new Player { Id = 10, Name = "Donnie", SteamName = "six", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins = 0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\donnie.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 },
                new Player { Id = 11, Name = "Drew", SteamName = "Rainmaker", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins = 0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\drew.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 },
                new Player { Id = 12, Name = "Greg", SteamName = "#1BESTDICKSUCKERALIVE", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins = 0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\greg.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 },
                new Player { Id = 13, Name = "Jeff", SteamName = "Actual Waste of Time", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins = 0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\jeff.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 },
                new Player { Id = 14, Name = "Lucas", SteamName = "Ham_boy", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins = 0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\lucas.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 },
                new Player { Id = 15, Name = "Max", SteamName = "ampersand.", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins = 0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\max.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 },
                new Player { Id = 16, Name = "Sean", SteamName = "SlugmanTheBrave", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins =0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\sean.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 },
                new Player { Id = 17, Name = "Skyler", SteamName = "Jackal", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins = 0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\skyler.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 },
                new Player { Id = 18, Name = "Wes", SteamName = "The Dagon Reborn", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins = 0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\wes.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 },
                new Player { Id = 19, Name = "Vincent", SteamName = "Zoltrix", TurboWins = 0, TurboLosses = 0, TurboGames = 0, SingleDraftWins = 0, SingleDraftLosses = 0, SingleDraftGames = 0, TotalGames = 0, WinRate = 0, ADARGames = 0, ADARLosses = 0, ADARWins = 0, AllPickGames = 0, AllPickLosses = 0, AllPickWins = 0, AllRandomGames = 0, AllRandomLosses = 0, AllRandomWins = 0, CaptDraftGames = 0, CaptDraftLosses = 0, CaptDraftWins = 0, RandomDraftGames = 0, RandomDraftLosses = 0, RandomDraftWins = 0, TotalLosses = 0, TotalWins = 0, TotalGameTime = 0, ProfilePictureUrl = @"assets\images\zoltrix.jpg", ADGames = 0, ADLosses = 0, ADWins = 0 }
            );
        }
    }
}
